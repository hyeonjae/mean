angular.module("myapp",["ngRoute"]),angular.module("myapp").controller("ApplicationCtrl",["$scope",function(t){t.$on("login",function(n,o){t.currentUser=o})}]),angular.module("myapp").controller("LoginCtrl",["$scope","UserSvc",function(t,n){t.login=function(o,e){n.login(o,e).then(function(n){t.$emit("login",n.data)})}}]),angular.module("myapp").controller("PostsCtrl",["$scope","PostsSvc",function(t,n){n.fetch().success(function(n){t.posts=n}),t.addPost=function(){var o=t.postBody;_.trim(o).length>0&&n.create({username:"hyeonjae",body:t.postBody}).success(function(n){t.posts.unshift(n),t.postBody=""})}}]),angular.module("myapp").service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("/api/posts")},this.create=function(n){return t.post("/api/posts",n)}}]),angular.module("myapp").config(["$routeProvider",function(t){t.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"})}]),angular.module("myapp").service("UserSvc",["$http",function(t){var n=this;n.getUser=function(){return t.get("/api/users",{headers:{"X-Auth":this.token}})},n.login=function(o,e){return t.post("/api/sessions",{username:o,password:e}).then(function(t){return n.token=t.data,n.getUser()})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRvbiIsIl8iLCJ1c2VyIiwiY3VycmVudFVzZXIiLCJVc2VyU3ZjIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwidGhlbiIsIiRlbWl0IiwiZGF0YSIsIlBvc3RzU3ZjIiwiZmV0Y2giLCJzdWNjZXNzIiwicG9zdHMiLCJhZGRQb3N0IiwicG9zdEJvZHkiLCJ0cmltIiwibGVuZ3RoIiwiY3JlYXRlIiwiYm9keSIsInBvc3QiLCJ1bnNoaWZ0Iiwic2VydmljZSIsIiRodHRwIiwidGhpcyIsImdldCIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwic3ZjIiwiZ2V0VXNlciIsImhlYWRlcnMiLCJYLUF1dGgiLCJ0b2tlbiIsInZhbCJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQVFDLE9BQU8sU0FDZCxZQUlERCxRQUFRQyxPQUFPLFNBQ2RDLFdBQVcsbUJBQUEsU0FBbUIsU0FBU0MsR0FDdkNBLEVBQU9DLElBQUksUUFBUyxTQUFTQyxFQUFHQyxHQUMvQkgsRUFBT0ksWUFBY0QsT0FJdkJOLFFBQVFDLE9BQU8sU0FDZEMsV0FBVyxhQUFjLFNBQVUsVUFBVyxTQUFTQyxFQUFRSyxHQUU1REwsRUFBT00sTUFBUSxTQUFTQyxFQUFVQyxHQUM5QkgsRUFBUUMsTUFBTUMsRUFBVUMsR0FDbkJDLEtBQUssU0FBU04sR0FDWEgsRUFBT1UsTUFBTSxRQUFTUCxFQUFLUSxZQU0zQ2QsUUFBUUMsT0FBTyxTQUNkQyxXQUFXLGFBQWMsU0FBVSxXQUFZLFNBQVNDLEVBQVFZLEdBRTdEQSxFQUFTQyxRQUFRQyxRQUFRLFNBQVNDLEdBQzlCZixFQUFPZSxNQUFRQSxJQUduQmYsRUFBT2dCLFFBQVUsV0FDYixHQUFJQyxHQUFXakIsRUFBT2lCLFFBQ2xCZixHQUFFZ0IsS0FBS0QsR0FBVUUsT0FBUyxHQUUxQlAsRUFBU1EsUUFDTGIsU0FBVSxXQUNWYyxLQUFNckIsRUFBT2lCLFdBRWhCSCxRQUFRLFNBQVNRLEdBQ2R0QixFQUFPZSxNQUFNUSxRQUFRRCxHQUNyQnRCLEVBQU9pQixTQUFXLFNBT2xDcEIsUUFBUUMsT0FBTyxTQUNkMEIsUUFBUSxZQUFhLFFBQVMsU0FBU0MsR0FDcENDLEtBQUtiLE1BQVEsV0FDVCxNQUFPWSxHQUFNRSxJQUFJLGVBR3hCRCxLQUFLTixPQUFTLFNBQVVFLEdBQ2pCLE1BQU9HLEdBQU1ILEtBQUssYUFBY0EsT0FLeEN6QixRQUFRQyxPQUFPLFNBQ2Q4QixRQUFBLGlCQUFPLFNBQVNDLEdBQ2hCQSxFQUNFQyxLQUFLLEtBQU0vQixXQUFZLFlBQWFnQyxZQUFhLGVBQ2pERCxLQUFLLGFBQWMvQixXQUFZLGVBQWdCZ0MsWUFBYSxrQkFDNURELEtBQUssVUFBVy9CLFdBQVksWUFBYWdDLFlBQWEsa0JBRXpEbEMsUUFBUUMsT0FBTyxTQUNkMEIsUUFBUSxXQUFBLFFBQVcsU0FBU0MsR0FDNUIsR0FBSU8sR0FBTU4sSUFDVk0sR0FBSUMsUUFBVSxXQUNiLE1BQU9SLEdBQU1FLElBQUksY0FDaEJPLFNBQVdDLFNBQVVULEtBQUtVLFVBSTVCSixFQUFJMUIsTUFBUSxTQUFTQyxFQUFVQyxHQUM5QixNQUFPaUIsR0FBTUgsS0FBSyxpQkFDakJmLFNBQVVBLEVBQ1ZDLFNBQVVBLElBQ1JDLEtBQUssU0FBUzRCLEdBRWhCLE1BREFMLEdBQUlJLE1BQVFDLEVBQUkxQixLQUNUcUIsRUFBSUMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ215YXBwJywgW1xuXHQnbmdSb3V0ZSdcbl0pO1xuXG5cbmFuZ3VsYXIubW9kdWxlKCdteWFwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24oJHNjb3BlKSB7XG5cdCRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24oXywgdXNlcikge1xuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHVzZXI7XG5cdH0pO1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdteWFwcCcpXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgWyckc2NvcGUnLCAnVXNlclN2YycsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2Yykge1xuICAgIFxuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgICAgICBVc2VyU3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2xvZ2luJywgdXNlci5kYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1dKTtcblxuXG5hbmd1bGFyLm1vZHVsZSgnbXlhcHAnKVxuLmNvbnRyb2xsZXIoJ1Bvc3RzQ3RybCcsIFsnJHNjb3BlJywgJ1Bvc3RzU3ZjJywgZnVuY3Rpb24oJHNjb3BlLCBQb3N0c1N2Yykge1xuICAgIFxuICAgIFBvc3RzU3ZjLmZldGNoKCkuc3VjY2VzcyhmdW5jdGlvbihwb3N0cykge1xuICAgICAgICAkc2NvcGUucG9zdHMgPSBwb3N0cztcbiAgICB9KTtcblxuICAgICRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9zdEJvZHkgPSAkc2NvcGUucG9zdEJvZHk7XG4gICAgICAgIGlmIChfLnRyaW0ocG9zdEJvZHkpLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgUG9zdHNTdmMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogJ2h5ZW9uamFlJyxcbiAgICAgICAgICAgICAgICBib2R5OiAkc2NvcGUucG9zdEJvZHlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihwb3N0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RzLnVuc2hpZnQocG9zdCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RCb2R5ID0gJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSk7XG5cblxuYW5ndWxhci5tb2R1bGUoJ215YXBwJylcbi5zZXJ2aWNlKCdQb3N0c1N2YycsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuICAgIHRoaXMuZmV0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcG9zdHMnKTtcbiAgICB9XG5cblx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbiAocG9zdCkge1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wb3N0cycsIHBvc3QpO1xuICAgIH1cbn1dKTtcblxuXG5hbmd1bGFyLm1vZHVsZSgnbXlhcHAnKVxuLmNvbmZpZyhmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuXHQkcm91dGVQcm92aWRlclxuXHRcdC53aGVuKCcvJywge2NvbnRyb2xsZXI6ICdQb3N0c0N0cmwnLCB0ZW1wbGF0ZVVybDogJ3Bvc3RzLmh0bWwnfSlcblx0XHQud2hlbignL3JlZ2lzdGVyJywge2NvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnLCB0ZW1wbGF0ZVVybDogJ3JlZ2lzdGVyLmh0bWwnfSlcblx0XHQud2hlbignL2xvZ2luJywge2NvbnRyb2xsZXI6ICdMb2dpbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2xvZ2luLmh0bWwnfSk7XG59KTtcbmFuZ3VsYXIubW9kdWxlKCdteWFwcCcpXG4uc2VydmljZSgnVXNlclN2YycsIGZ1bmN0aW9uKCRodHRwKSB7XG5cdHZhciBzdmMgPSB0aGlzO1xuXHRzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJywge1xuXHRcdFx0aGVhZGVyczogeyAnWC1BdXRoJzogdGhpcy50b2tlbiB9XG5cdFx0fSk7XG5cdH07XG5cblx0c3ZjLmxvZ2luID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7XG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsIFxuXHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkXG5cdFx0fSkudGhlbihmdW5jdGlvbih2YWwpIHtcblx0XHRcdHN2Yy50b2tlbiA9IHZhbC5kYXRhO1xuXHRcdFx0cmV0dXJuIHN2Yy5nZXRVc2VyKCk7XG5cdFx0fSk7XG5cdH07XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==